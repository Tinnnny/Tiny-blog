(window.webpackJsonp=window.webpackJsonp||[]).push([[249],{603:function(s,a,t){"use strict";t.r(a);var e=t(25),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux-用户和组管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-用户和组管理"}},[s._v("#")]),s._v(" Linux 用户和组管理")]),s._v(" "),t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),t("p",[s._v("Linux 操作系统是一个多用户操作系统，它允许多用户同时登录到系统上并使用资源。系统会根据账户来区分每个用户的文件，进程，任务和工作环境，使得每个用户工作都不受干扰。")]),s._v(" "),t("h2",{attrs:{id:"使用-root-用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-root-用户"}},[s._v("#")]),s._v(" 使用 Root 用户")]),s._v(" "),t("p",[s._v("在实际生产操作中，我们基本上都是使用超级管理员账户操作 Linux 系统，也就是 Root 用户，Linux 系统默认是关闭 Root 账户的，我们需要为 Root 用户设置一个初始密码以方便我们使用。")]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("步骤：")]),s._v(" "),t("ol",[t("li",[s._v("设置 Root 账户密码")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo passwd root\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("切换到 Root")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("su\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("设置允许远程登录 Root")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vi /etc/ssh/sshd_config\n# Authentication:\nLoginGraceTime 120\n#PermitRootLogin without-password     //注释此行\nPermitRootLogin yes                             //加入此行\nStrictModes yes\n# 重启服务\nservice ssh restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("用户账户说明")]),s._v(" "),t("ul",[t("li",[s._v("普通用户： 普通用户在系统上的任务是进行普通操作")]),s._v(" "),t("li",[s._v("超级管理员： 管理员在系统上的任务是对普通用户和整个系统进行管理。对系统具有绝对的控制权，能够对系统进行一切操作。用 root 表示，root 用户在系统中拥有最高权限，默认下 Ubuntu 用户的 root 用户是不能登录的。")]),s._v(" "),t("li",[s._v("安装时创建的系统用户： 此用户创建时被添加到 admin 组中，在 Ubuntu 中，admin 组中的用户默认是可以使用 sudo 命令来执行只有管理员才能执行的命令的。如果不使用 sudo 就是一个普通用户。")])])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("组账户说明")]),s._v(" "),t("ul",[t("li",[s._v("私有组： 当创建一个用户时没有指定属于哪个组，Linux 就会建立一个与用户同名的私有组，此私有组只含有该用户。")]),s._v(" "),t("li",[s._v("标准组： 当创建一个用户时可以选定一个标准组，如果一个用户同时属于多个组时，登录后所属的组为主组，其他的为附加组。")])])]),s._v(" "),t("h2",{attrs:{id:"账户管理常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#账户管理常用命令"}},[s._v("#")]),s._v(" 账户管理常用命令")]),s._v(" "),t("h3",{attrs:{id:"增加用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加用户"}},[s._v("#")]),s._v(" 增加用户")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("useradd 用户名\nuseradd -u (UID号)\nuseradd -p (口令)\nuseradd -g (分组)\nuseradd -s (SHELL)\nuseradd -d (用户目录)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("如：useradd lusifer")]),s._v(" "),t("p",[s._v("增加用户名为 lusifer 的账户")]),s._v(" "),t("h3",{attrs:{id:"修改用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改用户"}},[s._v("#")]),s._v(" 修改用户")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("usermod -u (新UID)\nusermod -d (用户目录)\nusermod -g (组名)\nusermod -s (SHELL)\nusermod -p (新口令)\nusermod -l (新登录名)\nusermod -L (锁定用户账号密码)\nusermod -U (解锁用户账号)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("如：usermod -u 1024 -g group2 -G root lusifer")]),s._v(" "),t("p",[s._v("将 lusifer 用户 uid 修改为 1024，默认组改为系统中已经存在的 group2，并且加入到系统管理员组")]),s._v(" "),t("h3",{attrs:{id:"删除用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[s._v("#")]),s._v(" 删除用户")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("userdel 用户名 (删除用户账号)\nuserdel -r 删除账号时同时删除目录\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("如：userdel -r lusifer")]),s._v(" "),t("p",[s._v("删除用户名为 lusifer 的账户并同时删除 lusifer 的用户目录")]),s._v(" "),t("h3",{attrs:{id:"组账户维护"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组账户维护"}},[s._v("#")]),s._v(" 组账户维护")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("groupadd 组账户名 (创建新组)\ngroupadd -g 指定组GID\ngroupmod -g 更改组的GID\ngroupmod -n 更改组账户名\ngroupdel 组账户名 (删除指定组账户)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"口令维护"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#口令维护"}},[s._v("#")]),s._v(" 口令维护")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("passwd 用户账户名 (设置用户口令)\npasswd -l 用户账户名 (锁定用户账户)\npasswd -u 用户账户名 (解锁用户账户)\npasswd -d 用户账户名 (删除账户口令)\ngpasswd -a 用户账户名 组账户名 (将指定用户添加到指定组)\ngpasswd -d 用户账户名 组账户名 (将用户从指定组中删除)\ngpasswd -A 用户账户名 组账户名 (将用户指定为组的管理员)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"用户和组状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户和组状态"}},[s._v("#")]),s._v(" 用户和组状态")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("su 用户名(切换用户账户)\nid 用户名(显示用户的UID，GID)\nwhoami (显示当前用户名称)\ngroups (显示用户所属组)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);